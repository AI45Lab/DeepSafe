# Ch3Ef Harmless Dimension Evaluation Configuration
# Uses PPL-based discriminative evaluation with ground_truth for ACC and ECE calculation

model:
  type: APIModel
  model_name: /mnt/shared-storage-user/ai4good2-share/models/Qwen/Qwen2.5-VL-7B-Instruct
  api_base: http://localhost:21111/v1
  api_key: EMPTY
  concurrency: 32
  mode: chat
  strip_reasoning: true
  temperature: 0.0
  repetition_penalty: 1.0
  max_tokens: 512

dataset:
  type: Ch3efDataset
  path: /mnt/shared-storage-user/dutianyi/dataset/Ch3Ef/meta_file/Harmless.json

evaluator:
  type: Ch3EfEvaluator
  # No judge_model_cfg: uses ground_truth-based evaluation with PPL-based discriminative evaluation
  # If your model supports compute_log_probs() or score(), it will use PPL-based evaluation
  # Otherwise, it falls back to text extraction method
  batch_size: 32
  prediction_field: prediction
  use_precomputed_predictions: false  # Set to true for eval-only stage
  require_precomputed_predictions: false

metrics:
  - type: Ch3EfAccMetric

summarizer:
  type: Ch3EfSummarizer

runner:
  type: LocalRunner
  output_dir: results/ch3ef_harmless_qwen2.5vl-7b

